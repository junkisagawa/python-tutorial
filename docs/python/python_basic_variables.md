# 変数と型

変数と型はPythonプログラミングの基礎です。このページでは「変数とは何か」「型とは何か」について詳しく解説します。

!!! info "COBOLプログラマーの皆様へ"
    COBOLのDATA DIVISIONで宣言する変数とPythonの変数には大きな違いがあります。このページでは、COBOLとの違いを交えながらPythonの変数を説明します。

---

## 変数とは？

変数とは、「データ（値）に名前をつけて保存する箱」のようなものです。

### COBOLとPythonの変数の違い

| 特徴 | COBOL | Python |
|------|-------|---------|
| 宣言場所 | DATA DIVISIONで事前宣言が必要 | どこでも宣言可能（使う時に作成） |
| 型の指定 | PIC句で厳密に指定（例：PIC 9(3)） | 自動的に型が決まる（動的型付け） |
| 値の変更 | MOVE文で値を代入 | = 演算子で代入 |
| 名前のルール | ハイフンOK（例：WS-COUNT） | アンダースコアを使用（例：ws_count） |

**COBOLの例：**
```cobol
01 WS-NAME    PIC X(10).
01 WS-AGE     PIC 9(3).

MOVE "たろう" TO WS-NAME.
MOVE 25 TO WS-AGE.
```

**Pythonの例：**
```python
name = "たろう"  # 文字列型として自動認識
age = 25        # 整数型として自動認識
```

具体的な例を見てみましょう。

```python
name = "たろう"
age = 25
```

このコードでは、

* `name` という変数に文字列「たろう」を保存しています。
* `age` という変数に整数の25を保存しています。

変数に値を保存することを「代入」と呼びます。

---

## 型（データの種類）とは？

Pythonにはデータを分類する「型」があります。主な型は以下の通りです。

| 型名（型）     | 説明                      | 例                 | COBOLでの対応 |
| --------- | ----------------------- | ----------------- | ------------- |
| 文字列（str）  | 文字や文を表します               | "こんにちは", "Python" | PIC X(n) |
| 整数（int）   | 整数値を表します                | 10, -5            | PIC 9(n), PIC S9(n) |
| 小数（float） | 小数点を含む数値を表します           | 3.14, -0.5        | PIC 9(n)V9(n) |
| 真偽値（bool） | 真（True）または偽（False）を表します | True, False       | 88レベル項目 |

!!! tip "COBOLとの型の違い"
    - **COBOL**: 変数宣言時に型とサイズを厳密に指定（例：PIC X(10)で10文字固定）
    - **Python**: 値に応じて自動的に型が決まり、サイズも動的に変化します
    
    ```cobol
    * COBOLの例
    01 WS-MESSAGE PIC X(20) VALUE "HELLO".
    * 20文字分の領域を確保（"HELLO     "のように空白で埋められる）
    ```
    
    ```python
    # Pythonの例
    message = "HELLO"  # 5文字分のメモリのみ使用
    message = "HELLO WORLD"  # 自動的に11文字分に拡張
    ```

---

## 型の自動判別（動的型付け）

Pythonは変数への代入時に、自動的に型を判別します。

例：

```python
x = 10       # 整数型（int）として判別
y = "abc"    # 文字列型（str）として判別
z = 3.14     # 小数型（float）として判別
is_valid = True  # 真偽値型（bool）として判別
```

!!! note "COBOLプログラマー向けの解説"
    COBOLでは変数の型を事前に宣言しますが、Pythonでは値を代入した時点で型が決まります。
    
    ```cobol
    * COBOLでは事前に型を宣言
    01 WS-COUNTER PIC 9(3).
    01 WS-NAME    PIC X(20).
    
    MOVE 100 TO WS-COUNTER.
    MOVE "TANAKA" TO WS-NAME.
    ```
    
    ```python
    # Pythonでは代入時に型が自動決定
    counter = 100      # 整数型として認識
    name = "TANAKA"    # 文字列型として認識
    
    # 同じ変数に別の型の値も代入可能（COBOLでは不可）
    counter = "百"     # 文字列型に変更される
    ```

---

## 型の確認方法

変数の型を確認するには、`type()` 関数を使います。

例：

```python
x = 10
y = "abc"
z = 3.14

print(type(x))  # 出力：<class 'int'>
print(type(y))  # 出力：<class 'str'>
print(type(z))  # 出力：<class 'float'>
```

---

## よくある間違いとQ&A

* **変数名のルール**
  
  * 英数字とアンダースコア（\_）のみ使用可能です。
  * 日本語も使用できますが、読みやすさや国際性の観点から英語を推奨します。
  
* **数字から始まる変数名はNG**
  
  * 例：`1name` は使えません。代わりに `name1` のようにしましょう。
  
* **型が異なると演算が失敗する**
  
  * 整数と文字列を直接計算するとエラーになります。
  * 例：

```python
# 間違った例
x = "10"
y = 5
# print(x + y) はエラーになります。

# 正しい例（型変換）
print(int(x) + y)  # 出力：15
```

---

> 変数は「データに名前をつけて管理する」ための非常に重要な仕組みです。
****
[次へ ▶ 条件分岐](python_basic_if.md)
