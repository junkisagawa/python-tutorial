# ファイル操作

ファイル操作は、データをコンピューター上に保存したり、読み込んだりするための重要な機能です。

---

## ファイル操作とは？

ファイル操作とは「データをファイルに書き込んで保存する操作や、保存されたデータを読み込んで使用する操作」を指します。

具体的な使い方を見ていきましょう。

---

## ファイルへの書き込み

データをファイルに書き込む例を示します。

```python
with open("sample.txt", "w", encoding="utf-8") as f:
    f.write("こんにちは\nPython!\n")
```

* `with open(...)` はファイルを安全に開き、操作後に自動で閉じる仕組みです。
* `"w"` は「書き込みモード」を表し、新しいファイルを作成、または既存の内容を上書きします。
* `encoding="utf-8"` は文字化け防止のために指定します。

### 実行結果

実行後、`sample.txt`というファイルが作成され、以下の内容が書き込まれます。

```
こんにちは
Python!
```

---

## ファイルの読み込み

ファイルからデータを読み込む例です。

```python
with open("sample.txt", "r", encoding="utf-8") as f:
    for line in f:
        print(line.strip())
```

* `"r"` は「読み込みモード」を意味します。
* `line.strip()` は各行の前後の空白や改行を取り除きます。

### 実行結果

```
こんにちは
Python!
```

---

## 実践課題

### 課題：ファイルを使った簡単なメモ帳アプリ

以下の手順でファイル操作を使ったプログラムを作成しましょう。

#### 手順

1. 新しいファイルを作成し、`memo_app.py`という名前で保存します。
2. 以下のコードをファイルに記述します。

```python
# メモを書き込む
memo = input("メモしたい内容を入力してください：")
with open("memo.txt", "a", encoding="utf-8") as f:
    f.write(memo + "\n")

# メモを表示する
print("\n現在のメモ内容：")
with open("memo.txt", "r", encoding="utf-8") as f:
    print(f.read())
```

3. ターミナルまたはコマンドプロンプトを開き、以下のコマンドでプログラムを実行します。

```bash
python memo_app.py
```

実行すると、メモの内容が入力でき、過去のメモ内容も表示されます。

---

## よくある間違い・Q&A

### ファイル名やパスを正確に

* ファイル名やパスが間違っているとエラーになります。
* 正しいファイル名、パスが指定されているかを確認しましょう。

### ファイルモードの指定を忘れずに

* 書き込み時は `"w"`（または追記なら `"a"`）、読み込み時は `"r"` を指定します。

```python
# 正しい例
with open("file.txt", "w") as f:
    f.write("データ")

# 間違った例（モード指定がない）
# with open("file.txt") as f:
#     f.write("データ")
```

### ファイルを閉じ忘れない

* `with` 文を使うとファイルは自動的に閉じられます。忘れる心配がありません。

---

> ファイル操作をマスターすると、データを柔軟に扱えるようになり、プログラムの幅が広がります！

[◀ 戻る：コレクション](python_basic_collection.md)　｜　[次へ ▶ エラー処理](python_basic_error.md)
